{"version":3,"sources":["../../tinybi/dist/analyseRecords.js","../../tinybi/dist/arrayHelpers.js","../../tinybi/dist/CategoryData.js","../../tinybi/dist/queryModel.js","../../tinybi/dist/executeQuery.js","../../tinybi-react/dist/Layouts.js","../../tinybi-react/dist/TinyBITable.js","../../tinybi-react/dist/usePageFilters.js","../../tinybi-react/dist/useQuery.js","../../tinybi-react/dist/DropDown.js","../../tinybi-react-chartjs/dist/TinyBIChart.js","demoSchema.ts","Reports/dataColours.ts","Reports/BugTracking.tsx","FilterPane.tsx","database.ts","localFetch.ts","App.tsx","serviceWorker.ts","index.tsx"],"names":["mapLabel","labels","key","_a","undefined","makeResultKey","result","selected","join","analyseRecords","_b","_c","records","totals","distinctSelected","map","_","i","arr","_i","arr_2","length","Object","keys","distinct","r","lookup","getKey","arr_1","item","push","groupBy","getValue","value","percentage","resultKey","rawValue","aggregated","Error","total","perc","Math","round","rows","getTotal","datasetFromValue","valueIndex","label","colours","data","c","backgroundColor","datasetPerLegend","l","Array","isArray","smartDates","datesOrStrings","dates","x","moment","every","date","month","format","CategoryWithTooltip","name","tooltip","this","prototype","valueOf","toString","CategoryDataRow","index","share","CategoryDataTotal","QueryColumn","aggregation","aggregationType","filters","column","function","count","sum","filter","operator","ascending","descending","equalTo","notEqualTo","greaterThan","lessThan","greaterThanOrEqualTo","lessThanOrEqualTo","__assign","assign","t","s","n","arguments","p","hasOwnProperty","call","apply","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","done","then","__generator","body","f","y","g","sent","trys","ops","verb","Symbol","iterator","v","op","TypeError","pop","__rest","indexOf","getOwnPropertySymbols","propertyIsEnumerable","LayoutElement","children","type","dimension","sizes","otherProps","nonNullSizes","totalSize","React","Children","reduce","unit","createElement","style","display","flexDirection","width","height","child","className","Row","props","Column","Layout","renderCell","def","align","TinyBITable","fetch","chartKey","title","query","columns","pageFilters","nonNullChartKey","concat","getFilters","useQuery","id","replace","row","clearedState","global","interactions","interactionKey","queryJson","select","others","jsonifyQuery","useState","setResult","queryJsonStr","stableStringify","useEffect","JSON","stringify","executeQuery","DropDown","options","onChange","TinyBIChart","mapData","render","clickedFilters","nonNullClickedFilters","chartInstance","allOptions","maintainAspectRatio","onClick","evt","chart","element","getElementAtEvent","_chart","labelIndex","_index","datasetIndex","_datasetIndex","category","legend","datasets","getEventData","setInteraction","stopPropagation","analysed","tooltips","callbacks","_d","xLabel","component","setTimeout","update","TinyBIPieChart","ref","Pie","TinyBIBarChart","parse","scales","yAxes","ticks","beginAtZero","Bar","TinyBIStackedBarChart","xAxes","stacked","DateReported","Id","CalendarYearNumber","FirstDayOfQuarter","FirstDayOfMonth","Workflow","Resolved","WorkflowState","SourceOfError","FixedByCustomer","Customer","CustomerName","CategoryCombination","Crashed","DataLoss","SecurityBreach","OffByOne","Slow","StackOverflow","Bug","WorkflowId","CustomerId","ReportedDate","ResolvedDate","AssignedDate","CategoryCombinationId","AssignedCoderId","ResolvedCoderId","dataColours","ResolvedPerCustomer","aggregations","SourceOfErrors","categories","TypesOfError","legends","bits","bitCombinations","parseInt","getNumber","set","at","val","_loop_1","bit","len","legends_1","ordering","o","sort","o1","o2","_loop_2","legends_2","some","d","decodeBitCategory","RecoverySummary","fixedByCustomer","State","Count","dateGroupings","BugsOverTime","dateGrouping","selectedLabel","setSelectedLabel","target","find","useDropDown","orderBy","raw","line","borderColor","lineTension","abs","Performance","toDateString","toISOString","substr","useDateInput","init","editing","setEditing","applied","setApplied","dirty","event","initCounter","useFilterPane","visible","setVisible","from","Date","setFullYear","getFullYear","lastYear","to","forEach","setGlobal","toggle","FilterPane","filterPane","db","a","publicUrl","window","sitePublicUrl","initSqlJs","locateFile","SQL","setupDb","Database","getDb","allocDb","makeRandomDate","setDate","getDate","floor","random","formatDate","pick","base","min","sourcesOfError","dateRows","m","getMonth","startOfQuarter","startOfMonth","workflows","workflowState","sourceOfError","resolved","workflowRows","categoryCombinations","b","categoryCombinationsRows","bugs","workflow","customer","reported","assigned","catComb","coderAssigned","coderResolved","bugRows","initSql","run","sql","exec","querySql","blazorReady","notifyBlazorReady","localFetch","DotNet","invokeMethodAsync","json","parsed","jsonDateParser","stackTrace","console","error","values","firstValueIndex","endOfSelects","slice","Chart","defaults","defaultFontFamily","usePointStyle","reports","reportNames","App","reportName","setReportName","state","clearInteraction","clearGlobal","clearAll","usePageFilters","report","Boolean","location","hostname","match","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.ccbb1996.chunk.js","sourcesContent":["import { distinct, groupBy } from \"./arrayHelpers\";\nimport moment from \"moment\";\nexport function mapLabel(labels, key) {\n    var _a;\n    return _a = (typeof labels === \"function\" ? labels(key) : typeof labels === \"object\" ? labels[key] : undefined), (_a !== null && _a !== void 0 ? _a : key);\n}\nfunction makeResultKey(result) {\n    return result.selected.join(\"|\");\n}\nexport function analyseRecords(_a) {\n    var records = _a.records, totals = _a.totals;\n    var _b, _c;\n    var distinctSelected = (_c = (_b = records[0]) === null || _b === void 0 ? void 0 : _b.selected.map(function (_, i) { return distinct(records.map(function (r) { return \"\" + r.selected[i]; })); }), (_c !== null && _c !== void 0 ? _c : []));\n    var lookup = groupBy(records, function (r) { return makeResultKey(r); });\n    function getTotal(value, percentage) {\n        var _a;\n        if (percentage) {\n            return 100;\n        }\n        if (!totals)\n            throw new Error(\"Specify percentages=true\");\n        return _a = totals.aggregated[value], (_a !== null && _a !== void 0 ? _a : 0);\n    }\n    function getValue(selected, value, percentage) {\n        var _a, _b, _c;\n        var resultKey = makeResultKey({ selected: selected });\n        var rawValue = (_b = (_a = lookup[resultKey]) === null || _a === void 0 ? void 0 : _a[0].aggregated[value], (_b !== null && _b !== void 0 ? _b : 0));\n        if (percentage) {\n            if (!totals)\n                throw new Error(\"Specify percentages=true\");\n            var total = (_c = totals.aggregated[value], (_c !== null && _c !== void 0 ? _c : 0));\n            var perc = total === 0 ? 0 : (rawValue / total) * 100;\n            return Math.round(perc * 100) / 100;\n        }\n        return rawValue;\n    }\n    function datasetFromValue(valueIndex, label, percentage, colours) {\n        var _a, _b;\n        return {\n            label: label,\n            data: (_b = (_a = distinctSelected[0]) === null || _a === void 0 ? void 0 : _a.map(function (c) { return getValue([c], valueIndex, percentage); }), (_b !== null && _b !== void 0 ? _b : [])),\n            backgroundColor: colours,\n        };\n    }\n    function datasetPerLegend(labels, percentage, colours) {\n        var _a, _b;\n        return (_b = (_a = distinctSelected[1]) === null || _a === void 0 ? void 0 : _a.map(function (l, i) { return ({\n            label: mapLabel(labels, l),\n            data: distinctSelected[0].map(function (c) { return getValue([c, l], 0, percentage); }),\n            backgroundColor: Array.isArray(colours) ? colours[i] : colours,\n        }); }), (_b !== null && _b !== void 0 ? _b : []));\n    }\n    return {\n        rows: records,\n        totals: totals,\n        distinctSelected: distinctSelected,\n        getValue: getValue,\n        getTotal: getTotal,\n        datasetFromValue: datasetFromValue,\n        datasetPerLegend: datasetPerLegend,\n    };\n}\nexport function decodeBitCategory(data, legends, colours, bits) {\n    var _a, _b;\n    var bitCombinations = (_b = (_a = data.distinctSelected[0]) === null || _a === void 0 ? void 0 : _a.map(function (c) { return parseInt(c, 10); }), (_b !== null && _b !== void 0 ? _b : []));\n    var totals = bits.map(function (_) { return 0; });\n    function getNumber(set, at) {\n        var _a;\n        var val = (_a = set.data) === null || _a === void 0 ? void 0 : _a[at];\n        return typeof val === \"number\" ? val : 0;\n    }\n    var _loop_1 = function (legend) {\n        legend.data = bits.map(function (_, index) {\n            var _a, _b;\n            var bit = 1 << index;\n            var total = 0;\n            var len = (_b = (_a = legend.data) === null || _a === void 0 ? void 0 : _a.length, (_b !== null && _b !== void 0 ? _b : 0));\n            for (var c = 0; c < len; c++) {\n                if (bitCombinations[c] & bit) {\n                    total += getNumber(legend, c);\n                }\n            }\n            totals[index] += total;\n            return total;\n        });\n    };\n    for (var _i = 0, legends_1 = legends; _i < legends_1.length; _i++) {\n        var legend = legends_1[_i];\n        _loop_1(legend);\n    }\n    var ordering = bits.map(function (_, o) { return o; }).filter(function (o) { return totals[o]; });\n    ordering.sort(function (o1, o2) { return totals[o2] - totals[o1]; });\n    var _loop_2 = function (legend) {\n        legend.data = ordering.map(function (o) { return getNumber(legend, o); });\n    };\n    for (var _c = 0, legends_2 = legends; _c < legends_2.length; _c++) {\n        var legend = legends_2[_c];\n        _loop_2(legend);\n    }\n    return {\n        labels: ordering.map(function (o) { return bits[o]; }),\n        datasets: legends.filter(function (l) { var _a; return (_a = l.data) === null || _a === void 0 ? void 0 : _a.some(function (d) { return d; }); }).map(function (d, i) { return ({\n            label: d.label,\n            data: d.data,\n            backgroundColor: colours[i]\n        }); }),\n    };\n}\nexport function smartDates(datesOrStrings) {\n    if (!datesOrStrings) {\n        return datesOrStrings;\n    }\n    var dates = datesOrStrings.map(function (x) { return moment(x); });\n    if (!dates.every(function (x) { return x.date() === 1; })) {\n        return dates.map(function (x) { return x.format(\"ll\"); });\n    }\n    if (!dates.every(function (x) { return x.month() % 3 === 0; })) {\n        return dates.map(function (x) { return x.format(\"MMM YYYY\"); });\n    }\n    if (!dates.every(function (x) { return x.month() === 0; })) {\n        return dates.map(function (x) { return \"Q\" + x.format(\"Q YYYY\"); });\n    }\n    return dates.map(function (x) { return x.format(\"YYYY\"); });\n}\n","export function groupBy(arr, getKey) {\n    var _a;\n    var result = {};\n    for (var _i = 0, arr_1 = arr; _i < arr_1.length; _i++) {\n        var item = arr_1[_i];\n        var key = getKey(item);\n        (_a = result[key], (_a !== null && _a !== void 0 ? _a : (result[key] = []))).push(item);\n    }\n    return result;\n}\nexport function distinct(arr) {\n    var map = {};\n    for (var _i = 0, arr_2 = arr; _i < arr_2.length; _i++) {\n        var item = arr_2[_i];\n        map[item] = true;\n    }\n    return Object.keys(map);\n}\n","var CategoryWithTooltip = /** @class */ (function () {\n    function CategoryWithTooltip(name, tooltip) {\n        this.name = name;\n        this.tooltip = tooltip;\n    }\n    CategoryWithTooltip.prototype.valueOf = function () {\n        return this.tooltip;\n    };\n    CategoryWithTooltip.prototype.toString = function () {\n        return this.name;\n    };\n    return CategoryWithTooltip;\n}());\nexport { CategoryWithTooltip };\nvar CategoryDataRow = /** @class */ (function () {\n    function CategoryDataRow(data, keys) {\n        this.data = data;\n        this.keys = keys;\n    }\n    CategoryDataRow.prototype.value = function (index) {\n        return this.data.getValue(this.keys, index, false);\n    };\n    CategoryDataRow.prototype.share = function (index) {\n        return this.data.getValue(this.keys, index, true);\n    };\n    return CategoryDataRow;\n}());\nexport { CategoryDataRow };\nvar CategoryDataTotal = /** @class */ (function () {\n    function CategoryDataTotal(data) {\n        this.data = data;\n        this.keys = [\"Total\"];\n    }\n    CategoryDataTotal.prototype.value = function (index) {\n        return this.data.getTotal(index, false);\n    };\n    CategoryDataTotal.prototype.share = function (index) {\n        return this.data.getTotal(index, true);\n    };\n    return CategoryDataTotal;\n}());\nexport { CategoryDataTotal };\n","var QueryColumn = /** @class */ (function () {\n    function QueryColumn(name) {\n        this.name = name;\n    }\n    QueryColumn.prototype.aggregation = function (aggregationType, filters) {\n        return {\n            column: this.name,\n            function: aggregationType,\n            filters: filters,\n        };\n    };\n    QueryColumn.prototype.count = function (filters) {\n        return this.aggregation(\"count\", filters);\n    };\n    QueryColumn.prototype.sum = function (filters) {\n        return this.aggregation(\"sum\", filters);\n    };\n    QueryColumn.prototype.filter = function (operator, value) {\n        return {\n            column: this.name,\n            operator: operator,\n            value: value,\n        };\n    };\n    QueryColumn.prototype.ascending = function () {\n        return { column: this.name, descending: false };\n    };\n    QueryColumn.prototype.descending = function () {\n        return { column: this.name, descending: true };\n    };\n    QueryColumn.prototype.equalTo = function (value) {\n        return this.filter(\"=\", value);\n    };\n    QueryColumn.prototype.notEqualTo = function (value) {\n        return this.filter(\"<>\", value);\n    };\n    QueryColumn.prototype.greaterThan = function (value) {\n        return this.filter(\">\", value);\n    };\n    QueryColumn.prototype.lessThan = function (value) {\n        return this.filter(\"<\", value);\n    };\n    QueryColumn.prototype.greaterThanOrEqualTo = function (value) {\n        return this.filter(\">=\", value);\n    };\n    QueryColumn.prototype.lessThanOrEqualTo = function (value) {\n        return this.filter(\"<=\", value);\n    };\n    return QueryColumn;\n}());\nexport { QueryColumn };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nexport function jsonifyQuery(query) {\n    var _a;\n    var select = query.select, others = __rest(query, [\"select\"]);\n    return __assign(__assign({}, others), { select: (_a = select) === null || _a === void 0 ? void 0 : _a.map(function (x) { return x.name; }) });\n}\nexport function executeQuery(fetch, query) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, fetch(JSON.stringify(query))];\n        });\n    });\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from \"react\";\nfunction LayoutElement(_a) {\n    var _b, _c;\n    var children = _a.children, type = _a.type, dimension = _a.dimension, sizes = _a.sizes, otherProps = __rest(_a, [\"children\", \"type\", \"dimension\", \"sizes\"]);\n    var nonNullSizes = sizes !== null && sizes !== void 0 ? sizes : [];\n    var totalSize = (_c = (_b = React.Children.map(children, (function (_, i) { var _a; return (_a = nonNullSizes[i]) !== null && _a !== void 0 ? _a : 1; }))) === null || _b === void 0 ? void 0 : _b.reduce(function (l, r) { return l + r; }, 0)) !== null && _c !== void 0 ? _c : 0;\n    var unit = totalSize ? 100 / totalSize : 0;\n    return (React.createElement(\"div\", __assign({}, otherProps, { style: { display: \"flex\", flexDirection: type, width: \"100%\", height: \"100%\" } }), React.Children.map(children, (function (child, i) {\n        var _a;\n        var _b;\n        return (React.createElement(\"div\", { className: \"layout-item\", style: (_a = {}, _a[dimension] = unit * ((_b = nonNullSizes[i]) !== null && _b !== void 0 ? _b : 1) + \"%\", _a) }, child));\n    }))));\n}\nexport var Row = function (props) { return React.createElement(LayoutElement, __assign({ type: \"row\", dimension: \"width\" }, props)); };\nexport var Column = function (props) { return React.createElement(LayoutElement, __assign({ type: \"column\", dimension: \"height\" }, props)); };\nexport function Layout(_a) {\n    var children = _a.children, otherProps = __rest(_a, [\"children\"]);\n    return React.createElement(\"div\", __assign({}, otherProps, { className: \"layout\" }), children);\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React from \"react\";\nimport { CategoryDataRow, CategoryDataTotal, analyseRecords } from \"tinybi\";\nimport { useQuery } from \".\";\nfunction renderCell(key, def) {\n    var value = typeof def === \"string\" ? def : def[0];\n    var align = typeof def === \"string\" ? \"left\" : def[1];\n    return (React.createElement(\"td\", { key: key, className: align }, value));\n}\nexport function TinyBITable(_a) {\n    var fetch = _a.fetch, chartKey = _a.chartKey, title = _a.title, query = _a.query, columns = _a.columns, pageFilters = _a.pageFilters;\n    var _b;\n    chartKey = chartKey !== null && chartKey !== void 0 ? chartKey : title;\n    if (!chartKey) {\n        throw new Error(\"Need to specify chartKey or title\");\n    }\n    var nonNullChartKey = chartKey;\n    if (pageFilters) {\n        query = __assign(__assign({}, query), { filters: ((_b = query.filters) !== null && _b !== void 0 ? _b : []).concat(pageFilters.getFilters(nonNullChartKey)) });\n    }\n    var data = analyseRecords(useQuery(fetch, query));\n    return (React.createElement(\"div\", { className: \"chart-box\", id: nonNullChartKey.replace(/\\s+/g, \"\") },\n        React.createElement(\"div\", { className: \"title\" }, title),\n        React.createElement(\"div\", { className: \"chart\" },\n            React.createElement(\"table\", null,\n                React.createElement(\"thead\", null,\n                    React.createElement(\"tr\", null, Object.keys(columns).map(function (column) { return (React.createElement(\"th\", { key: column }, column)); }))),\n                React.createElement(\"tbody\", null, data.rows.map(function (row) { return (React.createElement(\"tr\", { key: row.selected.join(\"|\") }, Object.keys(columns).map(function (column) { return renderCell(column, columns[column](new CategoryDataRow(data, row.selected))); }))); })),\n                data.totals && (React.createElement(\"tfoot\", null,\n                    React.createElement(\"tr\", null, Object.keys(columns).map(function (column) { return renderCell(column, columns[column](new CategoryDataTotal(data))); }))))))));\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useState } from \"react\";\nvar clearedState = {\n    global: [],\n    interactions: [],\n    interactionKey: \"\",\n};\nexport function usePageFilters() {\n    var _a = useState(clearedState), state = _a[0], set = _a[1];\n    function setInteraction(interactionKey, interactions) {\n        set(__assign(__assign({}, state), { interactionKey: interactionKey, interactions: interactions }));\n    }\n    function setGlobal(global) {\n        set(__assign(__assign({}, state), { global: global }));\n    }\n    function clearInteraction() {\n        set(__assign(__assign({}, state), { interactionKey: \"\", interactions: [] }));\n    }\n    function clearGlobal() {\n        set(__assign(__assign({}, state), { global: [] }));\n    }\n    function clearAll() {\n        set(clearedState);\n    }\n    function getFilters(key) {\n        var result = state.global;\n        return key !== state.interactionKey ? result.concat(state.interactions) : result;\n    }\n    return __assign(__assign({}, state), { setInteraction: setInteraction, setGlobal: setGlobal, clearInteraction: clearInteraction, clearGlobal: clearGlobal, clearAll: clearAll, getFilters: getFilters });\n}\n","import { useState, useEffect } from \"react\";\nimport { executeQuery, jsonifyQuery } from \"tinybi\";\nimport stableStringify from \"json-stable-stringify\";\nexport function useQuery(fetch, query) {\n    var queryJson = jsonifyQuery(query);\n    var _a = useState({ records: [] }), result = _a[0], setResult = _a[1];\n    var queryJsonStr = stableStringify(queryJson);\n    useEffect(function () {\n        executeQuery(fetch, queryJson).then(setResult);\n    }, [queryJsonStr]);\n    return result;\n}\n","import { useState } from \"react\";\nimport React from \"react\";\nexport function useDropDown(options) {\n    var _a = useState(options[0].label), selectedLabel = _a[0], setSelectedLabel = _a[1];\n    return {\n        options: options.map(function (x) { return x.label; }),\n        value: selectedLabel,\n        onChange: function (e) {\n            setSelectedLabel(e.target.value);\n        },\n        get selected() {\n            var _a, _b;\n            return (_b = (_a = options.find(function (x) { return x.label === selectedLabel; })) === null || _a === void 0 ? void 0 : _a.value) !== null && _b !== void 0 ? _b : options[0].value;\n        }\n    };\n}\nexport function DropDown(_a) {\n    var options = _a.options, value = _a.value, onChange = _a.onChange;\n    return (React.createElement(\"select\", { value: value, onChange: onChange }, options.map(function (x) { return React.createElement(\"option\", { key: x }, x); })));\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React from \"react\";\nimport { Pie, Bar } from \"react-chartjs-2\";\nimport { useQuery } from \"tinybi-react\";\nimport { analyseRecords } from \"tinybi\";\nimport { CategoryDataRow, CategoryWithTooltip } from \"tinybi\";\nfunction getEventData(evt, chart) {\n    if (chart && evt) {\n        var element = chart.getElementAtEvent(evt)[0];\n        if (element) {\n            var data = element._chart.data;\n            var labelIndex = element._index;\n            var datasetIndex = element._datasetIndex;\n            return {\n                category: data.labels[labelIndex],\n                legend: data.datasets[datasetIndex].label,\n            };\n        }\n    }\n}\nexport function TinyBIChart(_a) {\n    var fetch = _a.fetch, chartKey = _a.chartKey, title = _a.title, query = _a.query, mapData = _a.mapData, options = _a.options, tooltip = _a.tooltip, render = _a.render, clickedFilters = _a.clickedFilters, pageFilters = _a.pageFilters;\n    var _b;\n    var select = query.select;\n    chartKey = (chartKey !== null && chartKey !== void 0 ? chartKey : title);\n    if (!chartKey) {\n        throw new Error(\"Need to specify chartKey or title\");\n    }\n    var nonNullChartKey = chartKey;\n    var nonNullClickedFilters = (clickedFilters !== null && clickedFilters !== void 0 ? clickedFilters : (function (keys) { var _a; return (_a = select) === null || _a === void 0 ? void 0 : _a.map(function (c, i) { return c.equalTo(keys[i].toString()); }); }));\n    if (pageFilters) {\n        query = __assign(__assign({}, query), { filters: (_b = query.filters, (_b !== null && _b !== void 0 ? _b : [])).concat(pageFilters.getFilters(nonNullChartKey)) });\n    }\n    var chartInstance = undefined;\n    var allOptions = __assign(__assign({}, options), { maintainAspectRatio: false, onClick: function (evt) {\n            var _a;\n            var data = getEventData(evt, chartInstance);\n            if (data && pageFilters && chartInstance) {\n                var filters = nonNullClickedFilters([data.category, data.legend]);\n                if (filters) {\n                    pageFilters.setInteraction(nonNullChartKey, filters);\n                    (_a = evt) === null || _a === void 0 ? void 0 : _a.stopPropagation();\n                }\n            }\n        } });\n    var analysed = analyseRecords(useQuery(fetch, query));\n    var data = mapData(analysed);\n    if (tooltip && data.labels) {\n        allOptions = __assign(__assign({}, allOptions), { tooltips: {\n                callbacks: {\n                    label: function (item) {\n                        var _a, _b, _c, _d;\n                        if (item.xLabel) {\n                            return _b = (_a = item.xLabel) === null || _a === void 0 ? void 0 : _a.valueOf(), (_b !== null && _b !== void 0 ? _b : \"\");\n                        }\n                        if (typeof item.index === \"number\") {\n                            return _d = (_c = data.labels) === null || _c === void 0 ? void 0 : _c[item.index].valueOf(), (_d !== null && _d !== void 0 ? _d : \"\");\n                        }\n                        return [];\n                    },\n                },\n            } });\n        data.labels = data.labels.map(function (key) { return new CategoryWithTooltip(key, tooltip(new CategoryDataRow(analysed, [key]))); });\n    }\n    function handleRef(component) {\n        var _a;\n        chartInstance = (_a = component) === null || _a === void 0 ? void 0 : _a.chartInstance;\n        setTimeout(function () {\n            var _a;\n            (_a = chartInstance) === null || _a === void 0 ? void 0 : _a.update();\n        }, 1);\n    }\n    if (!data.labels) {\n        return React.createElement(\"div\", null);\n    }\n    return (React.createElement(\"div\", { className: \"chart-box\", id: nonNullChartKey.replace(/\\s+/g, \"\") },\n        React.createElement(\"div\", { className: \"title\" }, title),\n        React.createElement(\"div\", { className: \"chart\" },\n            React.createElement(\"div\", { className: \"canvas-container\" }, render(data, allOptions, handleRef, analysed)))));\n}\nexport function TinyBIPieChart(props) {\n    return React.createElement(TinyBIChart, __assign({}, props, { render: function (data, options, ref) { return React.createElement(Pie, { data: data, options: options, ref: ref }); } }));\n}\nexport function TinyBIBarChart(props) {\n    var _a;\n    var options = JSON.parse(JSON.stringify((_a = props.options, (_a !== null && _a !== void 0 ? _a : {}))));\n    if (!options.scales) {\n        options.scales = {};\n    }\n    if (!options.scales.yAxes) {\n        options.scales.yAxes = [];\n    }\n    if (!options.scales.yAxes[0]) {\n        options.scales.yAxes[0] = {};\n    }\n    if (!options.scales.yAxes[0].ticks) {\n        options.scales.yAxes[0].ticks = {};\n    }\n    options.scales.yAxes[0].ticks.beginAtZero = true;\n    return React.createElement(TinyBIChart, __assign({}, props, { options: options, render: function (data, options, ref) { return React.createElement(Bar, { data: data, options: options, ref: ref }); } }));\n}\nexport function TinyBIStackedBarChart(props) {\n    return (React.createElement(TinyBIBarChart, __assign({}, props, { options: {\n            scales: {\n                xAxes: [{ stacked: true }],\n                yAxes: [{ stacked: true }],\n            },\n        } })));\n}\n","import { QueryColumn } from \"tinybi\";\n\nexport const DateReported = {\n    Id: new QueryColumn<Date>(\"DateReported.Id\"),\n    CalendarYearNumber: new QueryColumn<number>(\"DateReported.CalendarYearNumber\"),\n    FirstDayOfQuarter: new QueryColumn<Date>(\"DateReported.FirstDayOfQuarter\"),\n    FirstDayOfMonth: new QueryColumn<Date>(\"DateReported.FirstDayOfMonth\"),\n};\n\nexport const DateResolved = {\n    Id: new QueryColumn<Date>(\"DateResolved.Id\"),\n    CalendarYearNumber: new QueryColumn<number>(\"DateResolved.CalendarYearNumber\"),\n    FirstDayOfQuarter: new QueryColumn<Date>(\"DateResolved.FirstDayOfQuarter\"),\n    FirstDayOfMonth: new QueryColumn<Date>(\"DateResolved.FirstDayOfMonth\"),\n};\n\nexport const DateAssigned = {\n    Id: new QueryColumn<Date>(\"DateAssigned.Id\"),\n    CalendarYearNumber: new QueryColumn<number>(\"DateAssigned.CalendarYearNumber\"),\n    FirstDayOfQuarter: new QueryColumn<Date>(\"DateAssigned.FirstDayOfQuarter\"),\n    FirstDayOfMonth: new QueryColumn<Date>(\"DateAssigned.FirstDayOfMonth\"),\n};\n\nexport const Workflow = {\n    Id: new QueryColumn<number>(\"Workflow.Id\"),\n    Resolved: new QueryColumn<boolean>(\"Workflow.Resolved\"),\n    WorkflowState: new QueryColumn<string>(\"Workflow.WorkflowState\"),\n    SourceOfError: new QueryColumn<string>(\"Workflow.SourceOfError\"),\n    FixedByCustomer: new QueryColumn<boolean>(\"Workflow.FixedByCustomer\"),\n};\n\nexport const Category = {\n    Id: new QueryColumn<number>(\"Category.Id\"),\n    Label: new QueryColumn<string>(\"Category.Label\"),\n};\n\nexport const Customer = {\n    Id: new QueryColumn<number>(\"Customer.Id\"),\n    CustomerName: new QueryColumn<string>(\"Customer.CustomerName\"),\n};\n\nexport const CoderAssigned = {\n    Id: new QueryColumn<number>(\"CoderAssigned.Id\"),\n    FullName: new QueryColumn<string>(\"CoderAssigned.FullName\"),\n};\n\nexport const CoderResolved = {\n    Id: new QueryColumn<number>(\"CoderResolved.Id\"),\n    FullName: new QueryColumn<string>(\"CoderResolved.FullName\"),\n};\n\nexport const CategoryCombination = {\n    Id: new QueryColumn<number>(\"CategoryCombination.Id\"),\n    Crashed: new QueryColumn<boolean>(\"CategoryCombination.Crashed\"),\n    DataLoss: new QueryColumn<boolean>(\"CategoryCombination.DataLoss\"),\n    SecurityBreach: new QueryColumn<boolean>(\"CategoryCombination.SecurityBreach\"),\n    OffByOne: new QueryColumn<boolean>(\"CategoryCombination.OffByOne\"),\n    Slow: new QueryColumn<boolean>(\"CategoryCombination.Slow\"),\n    StackOverflow: new QueryColumn<boolean>(\"CategoryCombination.StackOverflow\"),\n};\n\nexport const Bug = {\n    Id: new QueryColumn<number>(\"Bug.Id\"),\n    WorkflowId: new QueryColumn<number>(\"Bug.WorkflowId\"),\n    CustomerId: new QueryColumn<number>(\"Bug.CustomerId\"),\n    ReportedDate: new QueryColumn<Date>(\"Bug.ReportedDate\"),\n    ResolvedDate: new QueryColumn<Date>(\"Bug.ResolvedDate\"),\n    AssignedDate: new QueryColumn<Date>(\"Bug.AssignedDate\"),\n    CategoryCombinationId: new QueryColumn<number>(\"Bug.CategoryCombinationId\"),\n    AssignedCoderId: new QueryColumn<number>(\"Bug.AssignedCoderId\"),\n    ResolvedCoderId: new QueryColumn<number>(\"Bug.ResolvedCoderId\"),\n};\n\n","export const dataColours = [\"#722E85\", \"#CD65D9\", \"#3ED4B0\", \"#F54E7B\", \"#FF7676\", \"#FAD57A\", \"#313345\", \"#b4b2bc\"];\n","import React from \"react\";\n\nimport { decodeBitCategory, QueryColumn, smartDates, QueryFetch } from \"tinybi\";\n\nimport {\n    TinyBITable,\n    Layout,\n    Column,\n    Row,\n    useDropDown, \n    DropDown\n} from \"tinybi-react\";\n\nimport {\n    TinyBIPieChart,\n    TinyBIBarChart,\n    TinyBIStackedBarChart    \n} from \"tinybi-react-chartjs\";\n\nimport { Customer, Bug, Workflow, CategoryCombination, DateReported } from \"../demoSchema\";\n\nimport { dataColours } from \"./dataColours\";\nimport { ChartDataSets } from \"chart.js\";\nimport { PageFiltersProp } from \"tinybi-react\";\n\nexport interface VisualProps extends PageFiltersProp {\n    fetch: QueryFetch;\n}\n\nfunction ResolvedPerCustomer({ pageFilters, fetch }: VisualProps) {\n    return (\n        <TinyBIPieChart\n            fetch={fetch}\n            title=\"Resolved Per Customer\"\n            pageFilters={pageFilters}\n            query={{\n                select: [Customer.CustomerName],\n                aggregations: [Bug.Id.count()],\n                filters: [Workflow.Resolved.equalTo(true)],\n            }}\n            mapData={(data) => ({\n                labels: data.distinctSelected[0],\n                datasets: [data.datasetFromValue(0, \"Count\", false, dataColours)],\n            })}            \n        />\n    );\n}\n\nfunction SourceOfErrors({ pageFilters, fetch }: VisualProps) {\n    return (\n        <TinyBIPieChart\n            fetch={fetch}\n            title=\"Source Of Errors\"\n            pageFilters={pageFilters}\n            query={{\n                select: [Workflow.SourceOfError],\n                aggregations: [Bug.Id.count()],\n                filters: [Workflow.Resolved.equalTo(true)],\n            }}\n            mapData={(data) => ({\n                labels: data.distinctSelected[0],\n                datasets: [data.datasetFromValue(0, \"Count\", false, dataColours)],\n            })}            \n        />\n    );\n}\n\nconst categories = {\n    \"Crashed\": CategoryCombination.Crashed,\n    \"Data Loss\": CategoryCombination.DataLoss,\n    \"Security Breach\": CategoryCombination.SecurityBreach,\n    \"OffByOne\": CategoryCombination.OffByOne,\n    \"Slow\": CategoryCombination.Slow,\n    \"StackOverflow\": CategoryCombination.StackOverflow,\n};\n\nfunction TypesOfError({ pageFilters, fetch }: VisualProps) {\n    return (\n        <TinyBIStackedBarChart\n            fetch={fetch}\n            title=\"Types Of Error\"\n            pageFilters={pageFilters}\n            query={{\n                select: [Bug.CategoryCombinationId, Workflow.WorkflowState],\n                aggregations: [Bug.Id.count()]\n            }}\n            mapData={(data) => decodeBitCategory(data, data.datasetPerLegend(undefined, false, dataColours), dataColours, Object.keys(categories))}\n            clickedFilters={(keys: [keyof typeof categories, string]) => [Workflow.WorkflowState.equalTo(keys[1]), categories[keys[0]].equalTo(true)]}\n        />\n    );\n}\n\ninterface RecoverySummaryProps extends VisualProps {\n    fixedByCustomer: boolean;\n    title: string;\n}\n\nfunction RecoverySummary({ pageFilters, fixedByCustomer, title, fetch }: RecoverySummaryProps) {\n    return (\n        <TinyBITable\n            fetch={fetch}\n            title={title}\n            pageFilters={pageFilters}\n            query={{\n                select: [Workflow.WorkflowState],\n                aggregations: [Bug.Id.count()],\n                filters: [\n                    Workflow.FixedByCustomer.equalTo(fixedByCustomer),                    \n                ],\n                totals: true\n            }}\n            columns={{\n                State: (d) => `${d.keys[0]}`,                \n                Count: (d) => [`${d.value(0)}`, \"right\"],\n                \"% of Count\": (d) => [`${d.share(0)}%`, \"right\"],\n            }}\n        />\n    );\n}\n\nconst dateGroupings = [\n    { label: \"Month\", value: DateReported.FirstDayOfMonth },\n    { label: \"Quarter\", value: DateReported.FirstDayOfQuarter },\n    { label: \"Year\", value: DateReported.CalendarYearNumber }\n]\n\nfunction BugsOverTime({ pageFilters, fetch }: VisualProps) {\n    const dateGrouping = useDropDown<QueryColumn<unknown>>(dateGroupings);\n\n    return (\n        <div className=\"chart-with-dropdown chart-box\">\n            <TinyBIBarChart\n                fetch={fetch}\n                title={\"Bugs Over Time\"}\n                pageFilters={pageFilters}\n                query={{\n                    select: [dateGrouping.selected],\n                    aggregations: [\n                        Bug.Id.count(),\n                        Bug.Id.count([Workflow.SourceOfError.equalTo(\"Hackers\")]),\n                    ],\n                    orderBy: [dateGrouping.selected.ascending()]\n                }}\n                mapData={(data) => {\n                    const raw = data.datasetFromValue(1, \"Hackers\", false, \"transparent\");\n\n                    const line: ChartDataSets = {\n                        ...raw,\n                        type: \"line\",\n                        borderColor: dataColours[1],\n                        lineTension: 0,\n                        data: raw.data.map(x => Math.abs(x))\n                    };\n                    \n                    return {\n                        labels: smartDates(data.distinctSelected[0]),\n                        datasets: [\n                            line,\n                            data.datasetFromValue(0, \"All Causes\", false, dataColours[0])\n                        ],\n                    };\n                }}\n            />\n            <div className=\"dropdown\">\n                <span>By </span><DropDown {...dateGrouping} />\n            </div>            \n        </div>\n    );\n}\n\nexport function Performance(props: VisualProps) {\n    return (\n        <Layout>\n            <Column>\n                <Row sizes={[1, 1, 2]}>\n                    <ResolvedPerCustomer {...props} />\n                    <SourceOfErrors {...props} />\n                    <TypesOfError {...props} />\n                </Row>\n                <Row>\n                    <BugsOverTime {...props} />\n                    <Column>\n                        <RecoverySummary {...props} title=\"Progress Summary\" fixedByCustomer={false} />\n                        <RecoverySummary {...props} title=\"Fixed By Customers\" fixedByCustomer={true} />\n                    </Column>\n                </Row>\n            </Column>\n        </Layout>\n    );\n}\n","import React, { useState } from \"react\";\nimport { DateReported } from \"./demoSchema\";\nimport { PageFilters } from \"tinybi-react\";\n\nfunction lastYear() {\n    const d = new Date();\n    d.setFullYear(d.getFullYear() - 5);\n    return d;\n}\n\nfunction toDateString(d: Date) {\n    return d.toISOString().substr(0, 10);\n}\n\nfunction useDateInput(init: Date) {\n    const [editing, setEditing] = useState(toDateString(init));\n    const [applied, setApplied] = useState(toDateString(init));\n\n    function apply() {\n        setApplied(editing);\n    }\n\n    function onChange(event: React.ChangeEvent<HTMLInputElement>) {\n        setEditing(event.target.value);\n    }\n\n    return {\n        editing,\n        applied,\n        dirty: editing !== applied,\n        onChange,\n        apply        \n    };\n}\n\nlet initCounter = 0;\n\nexport function useFilterPane(pageFilters: PageFilters) {\n    const [visible, setVisible] = useState(false);\n    const from = useDateInput(lastYear());\n    const to = useDateInput(new Date());    \n    const dates = [from, to];\n\n    function toggle() {\n        setVisible(!visible);\n    }\n\n    function apply() {\n        dates.forEach(d => d.apply());\n        pageFilters.setGlobal([\n            DateReported.Id.greaterThanOrEqualTo(new Date(from.editing)),\n            DateReported.Id.lessThanOrEqualTo(new Date(to.editing))\n        ]);\n    }\n\n    const [init] = useState(++initCounter);\n    if (init === initCounter) {\n        apply();\n    }\n\n    const title = `Entered date from ${from.applied} to ${to.applied}`;\n\n    const dirty = dates.some(d => d.dirty);\n\n    return { visible, toggle, from, to, dirty, title, apply };\n}\n\nexport interface FilterPaneProps {\n    filterPane: ReturnType<typeof useFilterPane>; \n}\n\nexport function FilterPane({ filterPane: { visible, from, to, apply, dirty } }: FilterPaneProps) {\n    return (\n        <div className={`filter-pane ${visible && \"visible\"}`}>\n            <div>From</div>\n            <input type=\"date\" value={from.editing} onChange={from.onChange}/>\n            <div>To</div>\n            <input type=\"date\" value={to.editing} onChange={to.onChange}/>\n            <div className={`button ${dirty && \"enabled\"}`} onClick={apply}>Update</div>                 \n        </div>\n    )\n}\n","import moment from \"moment\";\n\nasync function allocDb() {\n    const publicUrl = (window as any).sitePublicUrl;\n\n    const SQL = await initSqlJs({\n        locateFile(f) {\n            return `${publicUrl}/${f}`;\n        }\n    });\n\n    const db = new SQL.Database();\n    setupDb(db);\n    return db;\n}\n\nlet db: ReturnType<typeof allocDb> | undefined;\n\ntype Await<T> = T extends {\n    then(onfulfilled?: (value: infer U) => unknown): unknown;\n} ? U : T;\n\nexport type Database = NonNullable<Await<typeof db>>;\n\nexport function getDb(): Promise<Database> {\n    if (!db) {\n        db = allocDb();\n    }\n    return db;\n}\n\nfunction makeRandomDate() {\n    const d = new Date(2018, 0, 1);\n    d.setDate(d.getDate() + Math.floor(Math.random() * 800));\n    return d;\n}\n\nfunction formatDate(d: Date) {\n    return moment(d).format(\"YYYY-MM-DD\");\n}\n\nfunction startOfQuarter(d: Date) {\n    const m = Math.floor(d.getMonth() / 4) * 4;\n    return formatDate(new Date(d.getFullYear(), m, d.getDate()));\n}\n\nfunction startOfMonth(d: Date) {    \n    return formatDate(new Date(d.getFullYear(), d.getMonth(), 1));\n}\n\nfunction pick(count: number, base: number) {\n     return Math.min(count - 1, Math.floor(Math.random() * count)) + base;     \n}\n\nfunction setupDb(db: Database) {\n\n    const workflowStates = [\n        \"Ignored\",\n        \"Prioritised\",\n        \"Assigned\",\n        \"Fixed\",\n        \"AsDesigned\"\n    ];\n\n    const sourcesOfError = [\n        \"Design flaw\",\n        \"Hackers\",\n        \"Honest mistake\"\n    ];\n\n    const dates: Date[] = [];\n    for (let n = 0; n < 50; n++) {\n        dates.push(makeRandomDate());\n    }\n\n    const dateRows = dates.map(x => `\n        ('${formatDate(x)}', ${x.getFullYear()}, '${startOfQuarter(x)}', '${startOfMonth(x)}')`).join(\",\");\n\n    const workflows: string[] = [];\n\n    for (const workflowState of workflowStates) {\n        for (const sourceOfError of sourcesOfError) {\n            for (const resolved of [0, 1]) {\n                for (const fixedByCustomer of [0, 1]) {\n                    workflows.push(`\n                        (${workflows.length + 1}, ${resolved}, '${workflowState}', '${sourceOfError}', ${fixedByCustomer})`);\n                }\n            }\n        }\n    }\n\n    const workflowRows = workflows.join(\",\");\n\n    const categoryCombinations: string[] = [];\n\n    for (const a of [0, 1]) {\n        for (const b of [0, 1]) {\n            for (const c of [0, 1]) {\n                for (const d of [0, 1]) {\n                    for (const e of [0, 1]) {\n                        for (const f of [0, 1]) {\n                            categoryCombinations.push(`\n                                (${categoryCombinations.length + 1}, ${a}, ${b}, ${c}, ${d}, ${e}, ${f})`);\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    const categoryCombinationsRows = categoryCombinations.join(\",\");\n\n    const bugs: string[] = [];\n\n    for (var n = 0; n < 100; n++) {\n        const workflow = pick(workflows.length, 1);\n        const customer = pick(6, 1);\n        const reported = formatDate(dates[pick(dates.length, 0)]);\n        const resolved = formatDate(dates[pick(dates.length, 0)]);\n        const assigned = formatDate(dates[pick(dates.length, 0)]);\n        const catComb = pick(categoryCombinations.length, 1);\n        const coderAssigned = pick(6, 1);\n        const coderResolved = pick(6, 1);\n\n        bugs.push(`\n            (${n + 1}, ${workflow}, ${customer}, '${reported}', '${resolved}', '${assigned}', ${catComb}, ${coderAssigned}, ${coderResolved})`);\n    }\n\n    const bugRows = bugs.join(\",\");\n\n    const initSql = `\n        create table \\`Date\\` (\n            Id date,\n            CalendarYearNumber smallint,\n            FirstDayOfQuarter date,\n            FirstDayOfMonth date\n        );\n\n        insert into \\`Date\\` values ${dateRows};\n\n        create table \\`Workflow\\` (\n            Id int,\n            Resolved bit,\n            WorkflowState varchar(30),\n            SourceOfError varchar(30),\n            FixedByCustomer bit\n        );\n\n        insert into \\`Workflow\\` values ${workflowRows};\n\n        create table \\`Category\\` (\n            Id int,\n            Label varchar(30)\n        );\n\n        insert into \\`Category\\` values\n            (1, 'Crashed'),\n            (2, 'Data Loss'),\n            (3, 'Security Breach'),\n            (4, 'Off By One'),\n            (5, 'Slow'),\n            (6, 'StackOverflow');\n\n        create table \\`Coder\\` (\n            Id int,\n            FullName varchar(30)\n        );\n    \n        insert into \\`Coder\\` values\n                (1, 'Sam'),\n                (2, 'Alex'),\n                (3, 'Drew'),\n                (4, 'Taylor'),\n                (5, 'Parker'),\n                (6, 'Austin');\n\n        create table \\`Customer\\` (\n            Id int,\n            CustomerName varchar(30)\n        );\n    \n        insert into \\`Customer\\` values\n                (1, 'Pies LLC'),\n                (2, 'Buns, Inc.'),\n                (3, 'Hats-R-Us'),\n                (4, 'Silence'),\n                (5, 'Egypt'),\n                (6, 'Affordability');\n\n        create table \\`CategoryCombination\\` (\n            Id int,\n            Crashed bit,\n            DataLoss bit,\n            SecurityBreach bit,\n            OffByOne bit,\n            Slow bit,\n            StackOverflow bit\n        );\n\n        insert into \\`CategoryCombination\\` values ${categoryCombinationsRows};\n\n        create table \\`Bug\\` (\n            Id int,\n            WorkflowId int,\n            CustomerId int,\n            ReportedDate date,\n            ResolvedDate date,\n            AssignedDate date,\n            CategoryCombinationId int,\n            AssignedCoderId int,\n            ResolvedCoderId int\n        );\n\n        insert into \\`Bug\\` values ${bugRows};\n    `;\n\n    db.run(initSql);\n}\n","import { jsonDateParser } from \"json-date-parser\";\nimport { getDb } from \"./database\";\nimport { QueryResult } from \"tinybi\";\n\nasync function querySql(sql: string) {\n    \n    const db = await getDb();\n\n    sql = sql.replace(/[[\\]]/g, \"`\")\n             .replace(/top\\s+[\\d]+/g, \" \")\n             .replace(/`PowerBI`\\./g, \"\");\n    \n    const result = db.exec(sql);\n    return JSON.stringify(result);\n}\n\n(window as any).querySql = querySql;\n\nconst blazorReady = new Promise(done => (window as any).notifyBlazorReady = done);\n\nexport async function localFetch(queryJson: string): Promise<QueryResult> {\n\n    await blazorReady;\n\n    const json = await DotNet.invokeMethodAsync(\"TinyBI.WasmHost\", \"Query\", queryJson) as string;\n    const parsed = JSON.parse(json, jsonDateParser);\n\n    if (parsed.stackTrace) {\n        console.error(parsed);\n        return { records: [] };\n    }\n\n    const columns = parsed[0].columns;\n    const values = parsed[0].values as unknown[][];\n    const firstValueIndex = columns.indexOf(\"Value0\");\n    const endOfSelects = firstValueIndex === -1 ? columns.length : firstValueIndex;\n\n    const result: QueryResult = {\n        records: values.map(x => ({\n            selected: x.slice(0, endOfSelects),\n            aggregated: x.slice(endOfSelects) as number[]\n        }))\n    };\n    \n    if (parsed[1]) {\n        result.totals = {\n            selected: [],\n            aggregated: parsed[1].values\n        };\n    }\n\n    return result;\n}\n","import React, { useState } from \"react\";\nimport \"./App.css\";\nimport { Performance, VisualProps } from \"./Reports/BugTracking\";\nimport { usePageFilters } from \"tinybi-react\";\nimport { useFilterPane, FilterPane } from \"./FilterPane\";\nimport Chart from \"chart.js\";\nimport { localFetch } from \"./localFetch\";\n\nChart.defaults.global.defaultFontFamily = \"Segoe UI, 'Helvetica', 'Arial', sans-serif\";\nif (Chart.defaults.global.legend && Chart.defaults.global.legend.labels) {\n    Chart.defaults.global.legend.labels.usePointStyle = true;\n}\n\nconst reports = {\n    \"Bug Tracking\": (f: VisualProps) => <Performance {...f} />,    \n}\n\ntype ReportName = keyof typeof reports;\n\nconst reportNames = Object.keys(reports) as ReportName[];\n\nconst defaultReport: ReportName = \"Bug Tracking\";\n\nfunction App() {\n    const [reportName, setReportName] = useState(defaultReport);\n    const pageFilters = usePageFilters();\n    const filterPane = useFilterPane(pageFilters);\n\n    const report = reports[reportName];\n\n    return (\n        <div className=\"reports-site\">\n            <div className=\"list\">\n                {\n                    reportNames.map(n => (\n                        <div key={n}\n                            className={`item ${n === reportName && \"selected\"}`}\n                            onClick={() => setReportName(n)}>{n}</div>\n                    ))\n                }\n            </div>\n            <div className=\"content\">\n                <div className=\"title-bar\">\n                    <div className=\"title\">{filterPane.title}</div>\n                    <div className=\"filters-button\" onClick={filterPane.toggle}>Filters</div>\n                </div>\n                <div className=\"report-with-filters\">\n                    <div className=\"report-itself\" onClick={pageFilters.clearInteraction}>\n                        {report({ fetch: localFetch, pageFilters })}\n                    </div>\n                    <FilterPane filterPane={filterPane} />\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}