(this["webpackJsonptinybi-nxg-demo"]=this["webpackJsonptinybi-nxg-demo"]||[]).push([[0],{1:function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(39)),r(n(72)),r(n(41)),r(n(73)),r(n(40)),r(n(74)),r(n(75))},11:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(176))},176:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.makeClickHandler=function(e,t,n,a){var o="function"===typeof n?n:function(e){return r.getColumnsOnly(n).map((function(t,n){return t.equalTo(e[n])}))};return{onClick:function(n){var r,u=function(e,t){if(t&&e){var n=t.getElementAtEvent(e)[0];if(n){var r=n._chart.data,a=n._index,o=n._datasetIndex;return{category:r.labels[a],legend:r.datasets[o].label}}}}(n,null===(r=t.current)||void 0===r?void 0:r.chartInstance);if(u&&a){var l=o([u.category,u.legend]);l&&(a.setInteraction(e,l),null===n||void 0===n||n.stopPropagation())}}}}},178:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(57),u=n.n(o),l=(n(66),n(14)),i=(n(67),n(2)),c=n(7),s=n(6),f=n(4),d=n(1),m={Id:new d.QueryColumn("DateReported.Id"),CalendarYearNumber:new d.QueryColumn("DateReported.CalendarYearNumber"),FirstDayOfQuarter:new d.QueryColumn("DateReported.FirstDayOfQuarter"),FirstDayOfMonth:new d.QueryColumn("DateReported.FirstDayOfMonth")},y=(new d.QueryColumn("DateResolved.Id"),new d.QueryColumn("DateResolved.CalendarYearNumber"),new d.QueryColumn("DateResolved.FirstDayOfQuarter"),new d.QueryColumn("DateResolved.FirstDayOfMonth"),new d.QueryColumn("DateAssigned.Id"),new d.QueryColumn("DateAssigned.CalendarYearNumber"),new d.QueryColumn("DateAssigned.FirstDayOfQuarter"),new d.QueryColumn("DateAssigned.FirstDayOfMonth"),{Id:new d.QueryColumn("Workflow.Id"),Resolved:new d.QueryColumn("Workflow.Resolved"),WorkflowState:new d.QueryColumn("Workflow.WorkflowState"),SourceOfError:new d.QueryColumn("Workflow.SourceOfError"),FixedByCustomer:new d.QueryColumn("Workflow.FixedByCustomer")}),g=(new d.QueryColumn("Category.Id"),new d.QueryColumn("Category.Label"),{Id:new d.QueryColumn("Customer.Id"),CustomerName:new d.QueryColumn("Customer.CustomerName")}),v=(new d.QueryColumn("CoderAssigned.Id"),new d.QueryColumn("CoderAssigned.FullName"),new d.QueryColumn("CoderResolved.Id"),new d.QueryColumn("CoderResolved.FullName"),{Id:new d.QueryColumn("CategoryCombination.Id"),Crashed:new d.QueryColumn("CategoryCombination.Crashed"),DataLoss:new d.QueryColumn("CategoryCombination.DataLoss"),SecurityBreach:new d.QueryColumn("CategoryCombination.SecurityBreach"),OffByOne:new d.QueryColumn("CategoryCombination.OffByOne"),Slow:new d.QueryColumn("CategoryCombination.Slow"),StackOverflow:new d.QueryColumn("CategoryCombination.StackOverflow")}),p={Id:new d.QueryColumn("Bug.Id"),WorkflowId:new d.QueryColumn("Bug.WorkflowId"),CustomerId:new d.QueryColumn("Bug.CustomerId"),ReportedDate:new d.QueryColumn("Bug.ReportedDate"),ResolvedDate:new d.QueryColumn("Bug.ResolvedDate"),AssignedDate:new d.QueryColumn("Bug.AssignedDate"),CategoryCombinationId:new d.QueryColumn("Bug.CategoryCombinationId"),AssignedCoderId:new d.QueryColumn("Bug.AssignedCoderId"),ResolvedCoderId:new d.QueryColumn("Bug.ResolvedCoderId")},b=["#722E85","#CD65D9","#3ED4B0","#F54E7B","#FF7676","#FAD57A","#313345","#b4b2bc"],h=n(10),C=n(11);function O(e){var t=e.pageFilters,n=e.fetch,o="ResolvedPerCustomer",u={select:{customer:g.CustomerName,bugCount:p.Id.count()},filters:[y.Resolved.equalTo(!0)].concat(Object(s.a)(t.getFilters(o)))},l=Object(r.useRef)(null),d=Object(f.useQuery)(n,u),m=Object(C.makeClickHandler)(o,l,u.select,t);return a.a.createElement(i.TinyBIChartBox,{id:o,title:"Resolved Per Customer"},a.a.createElement(h.b,{ref:l,options:Object(c.a)({},m),data:{labels:d.records.map((function(e){return e.customer})),datasets:[{label:"Count",backgroundColor:b,data:d.records.map((function(e){return e.bugCount}))}]}}))}function w(e){var t=e.pageFilters,n=e.fetch,o={select:{sourceOfError:y.SourceOfError,bugCount:p.Id.count()},filters:[y.Resolved.equalTo(!0)].concat(Object(s.a)(t.getFilters("SourceOfErrors")))},u=Object(f.useQuery)(n,o),l=Object(r.useRef)(null),d=Object(C.makeClickHandler)("SourceOfErrors",l,o.select,t);return a.a.createElement(i.TinyBIChartBox,{id:"SourceOfErrors",title:"Source Of Errors"},a.a.createElement(h.b,{ref:l,options:Object(c.a)({},d),data:{labels:u.records.map((function(e){return e.sourceOfError})),datasets:[{label:"Count",backgroundColor:b,data:u.records.map((function(e){return e.bugCount}))}]}}))}var E={Crashed:v.Crashed,"Data loss":v.DataLoss,"Security breach":v.SecurityBreach,"Off by one":v.OffByOne,Slow:v.Slow,"Stack overflow":v.StackOverflow};function j(e){var t=e.pageFilters,n=e.fetch,o="TypesOfError",u={select:{categoryBits:p.CategoryCombinationId,workflowState:y.WorkflowState,bugCount:p.Id.count()},filters:[y.Resolved.equalTo(!0)].concat(Object(s.a)(t.getFilters(o)))},l=Object(f.useQuery)(n,u),m=Object(r.useRef)(null),g=Object(C.makeClickHandler)(o,m,(function(e){return[y.WorkflowState.equalTo(e[1]),E[e[0]].equalTo(!0)]}),t),v=Object(d.distinct)(l.records.map((function(e){return e.workflowState}))),O=v.flatMap((function(e){return Object(d.keysOf)(E).map((function(t,n){return{workflowState:e,category:t,bugCount:l.records.filter((function(t){return t.workflowState===e&&t.categoryBits&1<<n})).map((function(e){return e.bugCount})).reduce((function(e,t){return e+t}),0)}}))})),w=Object(d.keysOf)(E).map((function(e){return{category:e,bugCount:O.filter((function(t){return t.category===e})).map((function(e){return e.bugCount})).reduce((function(e,t){return e+t}),0)}}));w.sort((function(e,t){return t.bugCount-e.bugCount}));var j=w.filter((function(e){return e.bugCount>0})).map((function(e){return e.category}));return a.a.createElement(i.TinyBIChartBox,{id:o,title:"Types Of Error"},a.a.createElement(h.a,{ref:m,options:Object(c.a)({scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0,ticks:{beginAtZero:!0}}]}},g),data:{labels:j,datasets:v.map((function(e,t){return{label:e,data:j.map((function(t){var n,r;return null!==(n=null===(r=O.find((function(n){return n.workflowState===e&&n.category===t})))||void 0===r?void 0:r.bugCount)&&void 0!==n?n:0})),backgroundColor:b[t]}}))}}))}function k(e){var t=e.pageFilters,n=e.fixedByCustomer,r=e.title,o=e.fetch,u=Object(f.useQuery)(o,{select:{state:y.WorkflowState,bugCount:p.Id.count(),resolvedBugCount:p.Id.count([y.Resolved.equalTo(!0)])},filters:[y.FixedByCustomer.equalTo(n)].concat(Object(s.a)(t.getFilters(""))),totals:!0});return a.a.createElement(i.TinyBIChartBox,{title:r},a.a.createElement(f.TinyBITable,{data:u,columns:{State:function(e){var t;return null!==(t=e.values.state)&&void 0!==t?t:"Total"},Count:function(e){return["".concat(e.values.bugCount),"right"]},"% of Count":function(e){return["".concat(e.percentage("resolvedBugCount"),"%"),"right"]}}}))}var D=[{label:"Month",value:m.FirstDayOfMonth},{label:"Quarter",value:m.FirstDayOfQuarter},{label:"Year",value:m.CalendarYearNumber}];function _(e){var t=e.pageFilters,n=e.fetch,o="BugsOverTime",u=Object(i.useDropDown)(D),l={select:{period:u.selected,countAllCauses:p.Id.count(),countHackers:p.Id.count([y.SourceOfError.equalTo("Hackers")])},filters:[y.Resolved.equalTo(!0)].concat(Object(s.a)(t.getFilters(o))),orderBy:[u.selected.ascending()]},m=Object(f.useQuery)(n,l),g=Object(d.smartDates)(m.records,(function(e){return e.period}),(function(e,t){return Object(c.a)({dateLabel:e,countAllCauses:0,countHackers:0},t)})),v=Object(r.useRef)(null),O=Object(C.makeClickHandler)(o,v,l.select,t),w={type:"line",data:g.map((function(e){var t;return null!==(t=e.countHackers)&&void 0!==t?t:0})),label:"Hackers",backgroundColor:"transparent",lineTension:0,borderColor:b[1]},E={data:g.map((function(e){return e.countAllCauses})),label:"All Causes",backgroundColor:b[0]},j={labels:g.map((function(e){return e.dateLabel})),datasets:[w,E]},k=Object(c.a)(Object(c.a)({},O),{},{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}});return a.a.createElement(i.TinyBIChartBox,{id:o,title:"Bugs Over Time"},a.a.createElement("div",{className:"chart-with-dropdown"},a.a.createElement("div",{className:"content"},a.a.createElement(h.a,{ref:v,options:k,data:j})),a.a.createElement("div",{className:"dropdown"},a.a.createElement("span",null,"By "),a.a.createElement(i.DropDown,u))))}function Q(e){return a.a.createElement(i.Layout,null,a.a.createElement(i.Column,null,a.a.createElement(i.Row,{sizes:[1,1,2]},a.a.createElement(O,e),a.a.createElement(w,e),a.a.createElement(j,e)),a.a.createElement(i.Row,null,a.a.createElement(_,e),a.a.createElement(i.Column,null,a.a.createElement(k,Object.assign({},e,{title:"Progress Summary",fixedByCustomer:!1})),a.a.createElement(k,Object.assign({},e,{title:"Fixed By Customers",fixedByCustomer:!0}))))))}function I(e){return e.toISOString().substr(0,10)}function S(e){var t=Object(r.useState)(I(e)),n=Object(l.a)(t,2),a=n[0],o=n[1],u=Object(r.useState)(I(e)),i=Object(l.a)(u,2),c=i[0],s=i[1];return{editing:a,applied:c,dirty:a!==c,onChange:function(e){o(e.target.value)},apply:function(){s(a)}}}var B=0;function P(e){var t=Object(r.useState)(!1),n=Object(l.a)(t,2),a=n[0],o=n[1],u=S(function(){var e=new Date;return e.setFullYear(e.getFullYear()-5),e}()),i=S(new Date),c=[u,i];function s(){c.forEach((function(e){return e.apply()})),e.setGlobal([m.Id.greaterThanOrEqualTo(new Date(u.editing)),m.Id.lessThanOrEqualTo(new Date(i.editing))])}var f=Object(r.useState)(++B);Object(l.a)(f,1)[0]===B&&s();var d="Entered date from ".concat(u.applied," to ").concat(i.applied),y=c.some((function(e){return e.dirty}));return{visible:a,toggle:function(){o(!a)},from:u,to:i,dirty:y,title:d,apply:s}}function T(e){var t=e.filterPane,n=t.visible,r=t.from,o=t.to,u=t.apply,l=t.dirty;return a.a.createElement("div",{className:"filter-pane ".concat(n&&"visible")},a.a.createElement("div",null,"From"),a.a.createElement("input",{type:"date",value:r.editing,onChange:r.onChange}),a.a.createElement("div",null,"To"),a.a.createElement("input",{type:"date",value:o.editing,onChange:o.onChange}),a.a.createElement("div",{className:"button ".concat(l&&"enabled"),onClick:u},"Update"))}var x,M=n(5),F=n.n(M),R=n(12),N=n.n(R),A=n(20),Y=n(59),q=n(60),W=n(27),H=n.n(W);function L(){return(L=Object(A.a)(N.a.mark((function e(){var t,n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.sitePublicUrl,e.next=3,initSqlJs({locateFile:function(e){return"".concat(t,"/").concat(e)}});case 3:return n=e.sent,U(r=new n.Database),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return x||(x=function(){return L.apply(this,arguments)}()),x}function V(){var e=new Date(2018,0,1);return e.setDate(e.getDate()+Math.floor(800*Math.random())),e}function z(e){return H()(e).format("YYYY-MM-DD")}function K(e,t){return Math.min(e-1,Math.floor(Math.random()*e))+t}function U(e){for(var t=["Design flaw","Hackers","Honest mistake"],n=[],r=0;r<50;r++)n.push(V());for(var a=n.map((function(e){return"\n        ('".concat(z(e),"', ").concat(e.getFullYear(),", '").concat(function(e){var t=3*Math.floor(e.getMonth()/3);return z(new Date(e.getFullYear(),t,1))}(e),"', '").concat(function(e){return z(new Date(e.getFullYear(),e.getMonth(),1))}(e),"')")})).join(","),o=[],u=0,l=["Ignored","Prioritised","Assigned","Fixed","AsDesigned"];u<l.length;u++){var i,c=l[u],s=Object(q.a)(t);try{for(s.s();!(i=s.n()).done;)for(var f=i.value,d=0,m=[0,1];d<m.length;d++)for(var y=m[d],g=0,v=[0,1];g<v.length;g++){var p=v[g];o.push("\n                        (".concat(o.length+1,", ").concat(y,", '").concat(c,"', '").concat(f,"', ").concat(p,")"))}}catch(te){s.e(te)}finally{s.f()}}for(var b=o.join(","),h=[],C=0,O=[0,1];C<O.length;C++)for(var w=O[C],E=0,j=[0,1];E<j.length;E++)for(var k=j[E],D=0,_=[0,1];D<_.length;D++)for(var Q=_[D],I=0,S=[0,1];I<S.length;I++)for(var B=S[I],P=0,T=[0,1];P<T.length;P++)for(var x=T[P],M=0,F=[0,1];M<F.length;M++){var R=F[M];h.push("\n                                (".concat(h.length,", ").concat(w,", ").concat(k,", ").concat(Q,", ").concat(B,", ").concat(x,", ").concat(R,")"))}for(var N=h.join(","),A=[],Y=0;Y<100;Y++){var W=K(o.length,1),H=K(6,1),L=z(n[K(n.length,0)]),J=z(n[K(n.length,0)]),U=z(n[K(n.length,0)]),G=K(h.length,1),$=K(6,1),Z=K(6,1);A.push("\n            (".concat(Y+1,", ").concat(W,", ").concat(H,", '").concat(L,"', '").concat(J,"', '").concat(U,"', ").concat(G,", ").concat($,", ").concat(Z,")"))}var X=A.join(","),ee="\n        create table `Date` (\n            Id date,\n            CalendarYearNumber smallint,\n            FirstDayOfQuarter date,\n            FirstDayOfMonth date\n        );\n\n        insert into `Date` values ".concat(a,";\n\n        create table `Workflow` (\n            Id int,\n            Resolved bit,\n            WorkflowState varchar(30),\n            SourceOfError varchar(30),\n            FixedByCustomer bit\n        );\n\n        insert into `Workflow` values ").concat(b,";\n\n        create table `Category` (\n            Id int,\n            Label varchar(30)\n        );\n\n        insert into `Category` values\n            (1, 'Crashed'),\n            (2, 'Data Loss'),\n            (3, 'Security Breach'),\n            (4, 'Off By One'),\n            (5, 'Slow'),\n            (6, 'StackOverflow');\n\n        create table `Coder` (\n            Id int,\n            FullName varchar(30)\n        );\n    \n        insert into `Coder` values\n                (1, 'Sam'),\n                (2, 'Alex'),\n                (3, 'Drew'),\n                (4, 'Taylor'),\n                (5, 'Parker'),\n                (6, 'Austin');\n\n        create table `Customer` (\n            Id int,\n            CustomerName varchar(30)\n        );\n    \n        insert into `Customer` values\n                (1, 'Pies LLC'),\n                (2, 'Buns, Inc.'),\n                (3, 'Hats-R-Us'),\n                (4, 'Silence'),\n                (5, 'Egypt'),\n                (6, 'Affordability');\n\n        create table `CategoryCombination` (\n            Id int,\n            StackOverflow bit,\n            Slow bit,\n            OffByOne bit,\n            SecurityBreach bit,\n            DataLoss bit,\n            Crashed bit\n        );\n\n        insert into `CategoryCombination` values ").concat(N,";\n\n        create table `Bug` (\n            Id int,\n            WorkflowId int,\n            CustomerId int,\n            ReportedDate date,\n            ResolvedDate date,\n            AssignedDate date,\n            CategoryCombinationId int,\n            AssignedCoderId int,\n            ResolvedCoderId int\n        );\n\n        insert into `Bug` values ").concat(X,";\n    ");e.run(ee)}function G(){return(G=Object(A.a)(N.a.mark((function e(t){var n,r,a,o;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:return n=e.sent,t=t.replace(/[[\]]/g,"").replace(/offset\s+([\d]+)\s+rows\s+fetch\s+next\s+([\d]+)\s+rows\s+only/g,"limit $2 offset $1").replace(/BugTracking\./g,""),r=new Date,a=JSON.stringify(n.exec(t)),o=new Date,console.log("SQL query took ".concat(o.getTime()-r.getTime()," ms")),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.querySql=function(e){return G.apply(this,arguments)};var $=new Promise((function(e){return window.notifyBlazorReady=e}));function Z(e){return X.apply(this,arguments)}function X(){return(X=Object(A.a)(N.a.mark((function e(t){var n,r,a,o,u,l,i,c,s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$;case 2:return n=new Date,e.next=5,DotNet.invokeMethodAsync("TinyBI.WasmHost","Query",JSON.stringify(t));case 5:if(r=e.sent,a=new Date,console.log("Blazor + SQL query took ".concat(a.getTime()-n.getTime()," ms")),!(o=JSON.parse(r,Y.jsonDateParser)).stackTrace){e.next=12;break}return console.error(o),e.abrupt("return",{records:[]});case 12:if(o[0]){e.next=15;break}return console.error(o),e.abrupt("return",{records:[]});case 15:return u=o[0].columns,l=o[0].values,i=u.indexOf("Value0"),c=-1===i?u.length:i,s={records:l.map((function(e){return{selected:e.slice(0,c),aggregated:e.slice(c)}}))},o[1]&&(s.totals={selected:[],aggregated:o[1].values}),e.abrupt("return",s);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}F.a.defaults.global.defaultFontFamily="Segoe UI, 'Helvetica', 'Arial', sans-serif",F.a.defaults.global.legend&&F.a.defaults.global.legend.labels&&(F.a.defaults.global.legend.labels.usePointStyle=!0),F.a.defaults.global.maintainAspectRatio=!1;var ee={"Bug Tracking":function(e){return a.a.createElement(Q,e)}},te=Object.keys(ee);var ne=function(){var e=Object(r.useState)("Bug Tracking"),t=Object(l.a)(e,2),n=t[0],o=t[1],u=Object(f.usePageFilters)(),i=P(u),c=ee[n];return a.a.createElement("div",{className:"reports-site"},a.a.createElement("div",{className:"list"},te.map((function(e){return a.a.createElement("div",{key:e,className:"item ".concat(e===n&&"selected"),onClick:function(){return o(e)}},e)}))),a.a.createElement("div",{className:"content"},a.a.createElement("div",{className:"title-bar"},a.a.createElement("div",{className:"title"},i.title),a.a.createElement("div",{className:"filters-button",onClick:i.toggle},"Filters")),a.a.createElement("div",{className:"report-with-filters"},a.a.createElement("div",{className:"report-itself",onClick:u.clearInteraction},c({fetch:Z,pageFilters:u})),a.a.createElement(T,{filterPane:i}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},2:function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(68)),r(n(69)),r(n(38)),r(n(70))},38:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0));t.TinyBIChartBox=function(e){var t=e.id,n=e.title,r=e.children;return a.default.createElement("div",{className:"chart-box",id:t},a.default.createElement("div",{className:"title"},n),a.default.createElement("div",{className:"chart"},r))}},39:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.distinct=function(e){for(var t={},n=0,r=e;n<r.length;n++){var a=r[n];t[""+a]=a}return Object.values(t)},t.keysOf=function(e){return Object.keys(e)}},4:function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(71)),r(n(76)),r(n(77))},40:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(39),a=n(41);t.getAggregatePropsOnly=function(e){return r.keysOf(e).filter((function(t){return!(e[t]instanceof a.QueryColumn)}))},t.getColumnPropsOnly=function(e){return r.keysOf(e).filter((function(t){return e[t]instanceof a.QueryColumn}))},t.getColumnsOnly=function(e){return r.keysOf(e).map((function(t){return e[t]})).filter((function(e){return e instanceof a.QueryColumn})).map((function(e){return e}))}},41:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.name=e}return e.prototype.aggregation=function(e,t){return{column:this.name,function:e,filters:t}},e.prototype.count=function(e){return this.aggregation("Count",e)},e.prototype.sum=function(e){return this.aggregation("Sum",e)},e.prototype.filter=function(e,t){return{column:this.name,operator:e,value:t}},e.prototype.ascending=function(){return{column:this.name,descending:!1}},e.prototype.descending=function(){return{column:this.name,descending:!0}},e.prototype.equalTo=function(e){return this.filter("=",e)},e.prototype.notEqualTo=function(e){return this.filter("<>",e)},e.prototype.greaterThan=function(e){return this.filter(">",e)},e.prototype.lessThan=function(e){return this.filter("<",e)},e.prototype.greaterThanOrEqualTo=function(e){return this.filter(">=",e)},e.prototype.lessThanOrEqualTo=function(e){return this.filter("<=",e)},e}();t.QueryColumn=r},61:function(e,t,n){e.exports=n(178)},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=r(n(0));t.useDropDown=function(e){var t=a.useState(e[0].label),n=t[0],r=t[1];return{options:e.map((function(e){return e.label})),value:n,onChange:function(e){r(e.target.value)},get selected(){var t,r;return null!==(r=null===(t=e.find((function(e){return e.label===n})))||void 0===t?void 0:t.value)&&void 0!==r?r:e[0].value}}},t.DropDown=function(e){var t=e.options,n=e.value,r=e.onChange;return o.default.createElement("select",{value:n,onChange:r},t.map((function(e){return o.default.createElement("option",{key:e},e)})))}},69:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=o(n(0));function l(e){var t,n,o=e.children,l=e.type,i=e.dimension,c=e.sizes,s=a(e,["children","type","dimension","sizes"]),f=null!==c&&void 0!==c?c:[],d=null!==(n=null===(t=u.default.Children.map(o,(function(e,t){var n;return null!==(n=f[t])&&void 0!==n?n:1})))||void 0===t?void 0:t.reduce((function(e,t){return e+t}),0))&&void 0!==n?n:0,m=d?100/d:0;return u.default.createElement("div",r({},s,{style:{display:"flex",flexDirection:l,width:"100%",height:"100%"}}),u.default.Children.map(o,(function(e,t){var n,r;return u.default.createElement("div",{className:"layout-item",style:(n={},n[i]=m*(null!==(r=f[t])&&void 0!==r?r:1)+"%",n)},e)})))}t.Row=function(e){return u.default.createElement(l,r({type:"row",dimension:"width"},e))},t.Column=function(e){return u.default.createElement(l,r({type:"column",dimension:"height"},e))},t.Layout=function(e){var t=e.children,n=a(e,["children"]);return u.default.createElement("div",r({},n,{className:"layout"}),t)}},70:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),o=n(38);t.TinyBIValueBox=function(e){var t=e.id,n=e.value,r=e.title,u=e.label;return a.default.createElement(o.TinyBIChartBox,{id:t,title:r},a.default.createElement("div",{className:"value-box"},a.default.createElement("div",{className:"value"},n),a.default.createElement("div",{className:"title"},u)))}},71:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),o=n(1);function u(e,t){var n="string"===typeof t?t:t[0],r="string"===typeof t?"left":t[1];return a.default.createElement("td",{key:e,className:r},n)}t.TinyBITable=function(e){var t=e.data,n=e.columns;return a.default.createElement("table",null,a.default.createElement("thead",null,a.default.createElement("tr",null,Object.keys(n).map((function(e){return a.default.createElement("th",{key:e},e)})))),a.default.createElement("tbody",null,t.records.map((function(e,r){var l;return a.default.createElement("tr",{key:null!==(l=JSON.stringify(e.selected))&&void 0!==l?l:r},Object.keys(n).map((function(r){return u(r,n[r](new o.QueryValuesRow(e,t.totals)))})))}))),t.totals&&a.default.createElement("tfoot",null,a.default.createElement("tr",null,Object.keys(n).map((function(e){return u(e,n[e](new o.QueryValuesTotal(t.totals)))})))))}},72:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var o=n(40);function u(e,t){for(var n={},r=0,a=0,u=o.getAggregatePropsOnly(e);a<u.length;a++){n[u[a]]=t.aggregated[r++]}r=0;for(var l=0,i=o.getColumnPropsOnly(e);l<i.length;l++){n[i[l]]=t.selected[r++]}return n}function l(e,t){for(var n={},r=0,a=0,u=o.getAggregatePropsOnly(e);a<u.length;a++){n[u[a]]=t.aggregated[r++]}return n}t.jsonifyQuery=function(e){var t=e.select,n=a(e,["select"]);return r(r({},n),{select:o.getColumnPropsOnly(t).map((function(e){return t[e].name})),aggregations:o.getAggregatePropsOnly(t).map((function(e){return t[e]}))})},t.expandQueryRecord=u,t.getAggregateValuesOnly=l,t.expandQueryResult=function(e,t){return{records:t.records.map((function(t){return u(e,t)})),totals:t.totals&&l(e,t.totals)}}},73:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},74:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.values=e,this.totals=t}return e.prototype.percentage=function(e){var t;if(!this.totals)return 0;var n=this.values[e],r=null!==(t=this.totals[e])&&void 0!==t?t:0,a=0===r?0:n/r*100;return Math.round(100*a)/100},e}();t.QueryValuesRow=r;var a=function(){function e(e){this.values=e}return e.prototype.percentage=function(){return 100},e}();t.QueryValuesTotal=a},75:function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<n;t++)for(var o=arguments[t],u=0,l=o.length;u<l;u++,a++)r[a]=o[u];return r},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(27));t.smartDates=function(e,t,n){(e=r(e)).sort((function(e,n){return o.default(t(e)).diff(o.default(t(n)))}));for(var a,u=(a=e.map((function(e){return o.default(t(e))}))).every((function(e){return 1===e.date()}))?a.every((function(e){return e.month()%3===0}))?a.every((function(e){return 0===e.month()}))?{format:"YYYY",unit:"years",incr:1}:{format:"[Q]Q YYYY",unit:"months",incr:3}:{format:"MMM YYYY",unit:"months",incr:1}:{format:"ll",unit:"days",incr:1},l=u.format,i=u.unit,c=u.incr,s=[],f=void 0,d=0,m=e;d<m.length;d++){var y=m[d],g=o.default(t(y));if(f)for(;!((f=f.add(c,i))>=g);)s.push(n(f.format(l),void 0));s.push(n(g.format(l),y)),f=g}return s}},76:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o={global:[],interactions:[],interactionKey:""};t.usePageFilters=function(){var e=a.useState(o),t=e[0],n=e[1];return r(r({},t),{setInteraction:function(e,a){n(r(r({},t),{interactionKey:e,interactions:a}))},setGlobal:function(e){n(r(r({},t),{global:e}))},clearInteraction:function(){n(r(r({},t),{interactionKey:"",interactions:[]}))},clearGlobal:function(){n(r(r({},t),{global:[]}))},clearAll:function(){n(o)},getFilters:function(e){var n=t.global;return e!==t.interactionKey?n.concat(t.interactions):n}})}},77:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(1),u=r(n(78));t.useQuery=function(e,t){var n=o.jsonifyQuery(t),r=a.useState({records:[]}),l=r[0],i=r[1];return a.useEffect((function(){e(n).then(i)}),[u.default(n)]),o.expandQueryResult(t.select,l)}}},[[61,1,2]]]);
//# sourceMappingURL=main.99b616af.chunk.js.map